CREATE TABLE EMPLOYEE(
EMPLOYEE_ID NUMBER NOT NULL,
EMP_FIRSTNAME VARCHAR2(200),
EMP_LASTNAME VARCHAR2(200),
DEPARTMENT_ID NUMBER NOT NULL,
SALARY NUMBER (10,2),
EMP_EMAIL VARCHAR2 (200),
CONSTRAINT PK_EMPLOYEE PRIMARY KEY  (EMPLOYEE_ID)
);
CREATE TABLE DEPARTMENT(
DEPARTMENT_ID NUMBER NOT NULL,
DEPARTMENT_NAME VARCHAR2(200),
CONSTRAINT PK_DEPARTMENT PRIMARY KEY  (DEPARTMENT_ID)
);

CREATE SEQUENCE KEY_GENERATOR_EMPLOYEE
INCREMENT BY 1;

CREATE SEQUENCE KEY_GENERATOR_DEPARTMENT
INCREMENT  BY 1;

SET SERVEROUTPUT ON;

CREATE OR REPLACE TRIGGER NEW_ROW_TRIGGER_EMPLOYEE
AFTER INSERT ON EMPLOYEE
FOR EACH ROW
BEGIN
--KEY_GENERATOR_EMPLOYEE.NEXTVAL;
DBMS_OUTPUT.PUT_LINE('ROW WAS INSERTED INTO EMPLOYEE');
END;
/

CREATE OR REPLACE TRIGGER NEW_ROW_TRIGGER_DEPARTMENT
AFTER INSERT ON DEPARTMENT
FOR EACH ROW
BEGIN 
--KEY_GENERATOR_DEPARTMENT.NEXTVAL;
DBMS_OUTPUT.PUT_LINE('ROW WAS INSERTED INTO EMPLOYEE');
END;
/

INSERT INTO DEPARTMENT VALUES(1,'IT');
INSERT INTO DEPARTMENT VALUES(2,'MARKETING');
INSERT INTO DEPARTMENT VALUES(3,'BUISNESS');

INSERT INTO EMPLOYEE VALUES(1,'BOB','JEFFERIES',1,100,'FJLDSJL');
INSERT INTO EMPLOYEE VALUES(2,'WILL','JEFFERIES',1,100,'FJLDSJL');
INSERT INTO EMPLOYEE VALUES(3,'TED','JEFFERIES',2,200,'FJLDSJL');

INSERT INTO EMPLOYEE VALUES(4,'SANDY','JEFFERIES',2,200,'FJLDSJL');
INSERT INTO EMPLOYEE VALUES(5,'SARAH','JEFFERIES',3,300,'FJLDSJL');
INSERT INTO EMPLOYEE VALUES(6,'SIMONE','JEFFERIES',3,300,'FJLDSJL');


CREATE PROCEDURE SP_GIVE_RAISE (DEPARTMENTID IN NUMBER,AVERAGE_SALARY OUT FLOAT,CORRECT_DEPARTMENT OUT BOOLEAN)
AS
ID_CHECK NUMBER;
BEGIN 
SELECT INTO ID_CHECK FROM DEPARTMENT WHERE(DEPARTMENTID = DEPARTMENT_ID);

IF ID_CHECK = NULL THEN 
CORRECT_DEPARTMENT := FALSE;
ELSE 
CORRECT_DEPARTMENT := TRUE;

IF



END;
/




