<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<title>DOM</title>
</head>
<body>
	<div>
		<div>
			<h3>
				Sum: <span id="sum"></span>
			</h3>
			<h5 id="currentTime"></h5>
		</div>
		<div>
			<h1>
				United <span data-customAttr="USA">States</span> of America (<span>USA</span>)
			</h1>
			<div>
				<a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click Here</a><a>Click
					Here</a>
			</div>
			<a>Click Here</a> <a>Click <span>Here1</span></a> <a>Click Here</a>
			<div>
				<select name="colors">
					<option value="green">Green</option>
					<option value="blue">Blue</option>
					<option value="red" selected="selected">Red</option>
					<option value="purple">Purple</option>
					<option value="yellow" selected="selected">Yellow</option>
				</select>
			</div>
		</div>
		<p id="helloWorld">Hello, World!</p>
		<div>
			<table>
				<tr>
					<th>Name</th>
					<th>Department</th>
				</tr>
				<tr>
					<td class="empName">John</td>
					<td>Sales</td>
				</tr>
				<tr>
					<td class="empName">Amy</td>
					<td>Finance</td>
				</tr>
				<tr>
					<td class="empName">Austin</td>
					<td>Sales</td>
				</tr>
				<tr>
					<td class="empName">Katie</td>
					<td>Marketing</td>
				</tr>
				<tr>
					<td class="empName" data-customAttr="court">Courtney</td>
					<td>Sales</td>
				</tr>
				<tr>
					<td class="empName">Scout</td>
					<td>Sales</td>
				</tr>
			</table>
		</div>
		<form id="firstForm">
			<a>Click <span>Here2</span></a> <input type="text"
				data-customAttr="7" /><br /> <input type="text"
				data-customAttr="24" /><br /> <input type="radio"
				name="favoriteAnimal" value="dog" />Dog<br /> <input type="radio"
				name="favoriteColor" value="blue" />Blue<br /> <input id="num1"
				class="nums" type="text" /><br /> <input type="radio"
				name="favoriteAnimal" value="cat" />Cat<br /> <input type="radio"
				name="favoriteColor" value="red" />Red<br /> <input type="radio"
				name="favoriteAnimal" value="horse" />Horse<br /> <input
				type="radio" name="favoriteAnimal" value="dolphin" />Dolphin<br />
			<a>Click <span>Here</span>
			</a><br /> <input type="radio" name="favoriteAnimal" value="eagle" />Eagle<br />
			<input type="radio" name="favoriteColor" value="green" />Green<br />
			<input type="radio" name="favoriteColor" value="orange" />Orange<br />
			<select name="hobbies">
				<option value="photography">Photography</option>
				<option value="football" selected="selected">Football</option>
				<option value="kayaking" selected="selected">Kayaking</option>
				<option value="hiking">Hiking</option>
				<option value="programming" selected="selected">Programming</option>
			</select> <input id="num2" class="nums" type="text" /> <select name="skills">
				<option value="java">Java</option>
				<option value="net">.NET</option>
				<option value="dom" selected="selected">DOM</option>
				<option value="html">HTML</option>
				<option value="css">CSS</option>
				<option value="javascript" selected="selected">Javascript</option>
			</select>
		</form>
	</div>
	<a>Click Here</a>
	<a>Click <span data-customAttr="500">Here3</span></a>
	<a>Click Here</a>
	<script type="text/javascript">
		// TODO: Javascript homework
		// 1. USA
		// Define function getUSA()
		// Find the html element that contains "USA".
		// Print that element's contents.		
		function getUSA() {
			var usa = document.querySelector("[data-customAttr='USA']").innerHTML;
			console.log("Problem 1: ")
			console.log(usa);
		}
		
		window.onload = function() {
			getUSA();
		} 
		
		// 2. Sales
		// Define function getPeopleInSales()
		// Print the names of all the people in the sales department.
		function getPeopleInSales() {
			var rows = document.getElementsByTagName("tr");
			console.log("Problem 2: ");
			for (var i = 1; i < rows.length; i++) {		// skip first row, since it contains headings
				  var singleRow = rows[i].getElementsByTagName("td");
				  if (singleRow[1].innerHTML === "Sales") {		// if element within second column is "Sales"
					  console.log(singleRow[0].innerHTML);		// then print the element within the first column
				  }
			}
		}
		
		window.onload = function() {
			getPeopleInSales();
		}
		
		// 3. Click Here
		// Define function getAnchorChildren()
		// Find all anchor elements with a <span> child.
		// Print the contents of <span>
		function getAnchorChildren() {
			var baseElement = document.querySelectorAll("a");
			var childElement;
			console.log("Problem 3: ")
			for (var i = 0; i < baseElement.length; i++) {
				if (baseElement[i].firstElementChild != null && baseElement[i].firstElementChild.nodeName === "SPAN") {
					console.log(baseElement[i].firstElementChild.innerHTML);
				}
			}
		}
		
		window.onload = function() {
			getAnchorChildren();
		}
		
		// 4. Hobbies
		// Define function getSkills()
		// Find all checked options in the 'skills' select element.
		// Print the value and the contents.
		function getSkills() {
			var skills = document.querySelector("[name='skills']");
			var options = skills.children;
			console.log("Problem 4: ");
			for (var i = 0; i < options.length; i++) {
				if (options[i].getAttribute("selected") === "selected") {
					console.log("Selected value: " + options[i].getAttribute("value"));
					console.log("Selected content: " + options[i].innerHTML);
				}
				
			}
		}
		
		window.onload = function() {
			getSkills();
		}
		
		// 5. Custom Attribute
		// Define function getCustomAttribute()
		// Find all elements with "data-customAttr" attribute
		// Print the value of the attribute.
		// Print the element that has the attribute.
		function getCustomAttribute() {
			var custom = document.querySelectorAll("[data-customAttr]");
			console.log("Problem 5: ");
			for (var i = 0; i < custom.length; i++) {
				console.log("Value: " + custom[i].getAttribute("data-customAttr") + " Content: " + custom[i].innerHTML);
			}
		}
		
		window.onload = function() {
			getCustomAttribute();
		}
		
		// 6. Sum Event
		// NOTE: Write unobtrusive Javascript
		// Regarding these elements:
		// <input id="num1" class="nums" type="text"/>
		// <input id="num2" class="nums" type="text"/>
		// <h3>Sum: span id="sum"></span></h3>
		// Define onchange event handler.
		// Add <input> element values.
		// Put the sum in the <span> element.
		// If values cannot be added, put "Cannot add" in the <span> element
		function add(input1, input2) {
			var message = document.getElementById("sum");
			message.innerHTML = " ";
			try {
				if (!input1 || !input2) throw "Cannot add";					// throw if button hit and nothing inside
				if (isNaN(input1) || isNaN(input2)) throw "Cannot add";		// way to check if Not a Number
				message.innerHTML = Number(input1) + Number(input2);
			} catch (err) {
				message.innerHTML = err;
			}
		};
		document.getElementById("num1").addEventListener("change", function() {
			add(document.getElementById("num1").value, document.getElementById("num2").value);
		});
		document.getElementById("num2").addEventListener("change", function() {
			add(document.getElementById("num1").value, document.getElementById("num2").value);
		});
		
		// 7. Skills Event
		// NOTE: Write unobtrusive Javascript
		// When user selects a skill, create an alert with a message similar to:
		// "Are you sure CSS is one of your skills?"
		// NOTE: no alert should appear when user deselects a skill.
		function askQuestion() {
			var skills = document.querySelector("[name='skills']");
			return skills;
		}
		askQuestion().addEventListener("change", function() {
			window.alert("Are you sure CSS is one of your skills?");
		});
		
		// 8. Favorite Color Event
		// NOTE: Write unobtrusive Javascript
		// NOTE: This is regarding the favoriteColor radio buttons.
		// When a user selects a color, create an alert with a message similar to:
		// "So you like green more than blue now?"
		// In this example, green is the new value and blue is the old value.
		// Make the background color (of all favoriteColor radio buttons)
		// the newly selected favoriteColor
 		function changeColors(newColor) {
 			var colors = document.querySelectorAll("[name='favoriteColor']");
 			var oldColor = colors[0].parentElement.style.backgroundColor;
 			window.alert("So you like " + newColor + " more than " + oldColor + " now?");
			for (var i = 0; i < colors.length; i++) {
				colors[i].parentElement.style.backgroundColor = newColor;
			}
		};
		
		var addColorListeners = function() {
 			var colors = document.querySelectorAll("[name='favoriteColor']");
			for (var i = 0; i < colors.length; i++) {
				colors[i].addEventListener("click", function() {
					changeColors(this.getAttribute("value"))
				});
			}
		};
		
		window.onload = function() {
			addColorListeners();
		}
	
		// 9. Show/Hide Event
		// NOTE: Write unobtrusive Javascript
		// When user hovers over an employees name:
		// Hide the name if shown.
		// Show the name if hidden.

		var hideEmployee = function() {
			var employees = document.getElementsByClassName("empName");
			for (var i = 0; i < employees.length; i++) {
				employees[i].addEventListener("mouseover", function() {
					if (this.style.opacity == 1) {
						this.style.opacity = 0;
					} else {
						this.style.opacity = 1;
					}
				});
			}
		}
		
		window.onload = function() {
			hideEmployee();
		}
		
		
		// 10. Current Time
		// Regarding this element:
		// <h5 id="currentTime"></h5>
		// Show the current time in this element in this format: 9:05:23 AM
		// The time should be accurate to the second without having to reload the page.
		
 		var showTime = function() {
			var display = document.getElementById("currentTime");
			var time = new Date();
			var h;
			var period;
			if (time.getHours <= 12) {
				h = time.getHours();
				period = "AM";
			} else {
				h = time.getHours() - 12;
				period = "PM";
			}
			var m = time.getMinutes();
			if (m < 10) {
				m = "0" + m;
			}
			var s = time.getSeconds();
			if (s < 10) {
				s = "0" + s;
			}
			// console.log(time.getHours() + ":" + time.getMinutes() + ":" + time.getSeconds());
			display.innerHTML = " " + h + ":" + m + ":" + s + " " + period;
			  t = setInterval(function() {
				    showTime()
				  }, 1000);
		}
		
 		window.onload = function() {
			showTime();
		}
		
		// 11. Delay
		// Regarding this element:
		// <p id="helloWorld">Hello, World!</p>
		// Three seconds after a user clicks on this element, change the text to a random color.
 		function getRandomColor() {
			  var letters = '0123456789ABCDEF';
			  var color = '#';
			  for (var i = 0; i < 6; i++) {
			    color += letters[Math.floor(Math.random() * 16)];
			  }
			  return color;
		}
		
		function changeColor() {
			document.getElementById("helloWorld").style.color = getRandomColor();
		}
		
		function clickHandler() {
			setTimeout(changeColor, 3000);
		};
		
		document.getElementById("helloWorld").addEventListener("click", clickHandler);
		
		// 12. Walk the DOM
		// Define function walkTheDOM(node, func)
		// This function should traverse every node in the DOM.
		// Use recursion.
		// On each node, call func(node).
/*  		function walkTheDOM(node, func) {
 			var nodes = document.getElementsByTagName("*");
 			console.log("Problem 12: ")
 			for (var i=0; i < nodes.length; i++) {
 				console.log(nodes[i]);
 			}
		} */
		
 		window.onload = function() {
			getUSA();				// 1
			getPeopleInSales();		// 2
			getAnchorChildren();	// 3
			getSkills();			// 4
			getCustomAttribute();	// 5
			addColorListeners();	// 8
			hideEmployee();			// 9
			showTime();				// 10
			//walkTheDOM();			// 12
		}
		
	</script>
</body>
</html>